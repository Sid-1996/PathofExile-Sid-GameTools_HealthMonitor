# ğŸ“š ç¤ºä¾‹ä»£ç¢¼èªªæ˜

æ­¤ç›®éŒ„åŒ…å«äº† PathofExile Sid GameTools_HealthMonitor çš„æ ¸å¿ƒæŠ€è¡“ç¤ºä¾‹ä»£ç¢¼ï¼Œå±•ç¤ºä¸»è¦æŠ€è¡“æ¦‚å¿µå’Œå¯¦ç¾æ–¹æ³•ã€‚

## ğŸ“ æª”æ¡ˆåˆ—è¡¨

### 1. `color_detection_demo.py`
**è‰²å½©æª¢æ¸¬æŠ€è¡“å±•ç¤º**

- **åŠŸèƒ½**: å±•ç¤º HSV è‰²å½©ç©ºé–“æª¢æ¸¬ç®—æ³•
- **æŠ€è¡“é‡é»**: 
  - OpenCV è‰²å½©ç©ºé–“è½‰æ›
  - å‹•æ…‹é–¾å€¼èª¿æ•´
  - å½¢æ…‹å­¸æ“ä½œå„ªåŒ–
- **å­¸ç¿’åƒ¹å€¼**: ç†è§£éŠæˆ²ç•Œé¢å…ƒç´ è­˜åˆ¥çš„æ ¸å¿ƒåŸç†

**ä½¿ç”¨æ–¹æ³•**:
```bash
python color_detection_demo.py
```

**ä¸»è¦åŠŸèƒ½**:
- äº’å‹•å¼ HSV åƒæ•¸èª¿æ•´
- å³æ™‚é¡è‰²æª¢æ¸¬çµæœé è¦½
- å¤šç¨®è‰²å½©çš„æª¢æ¸¬æ¨¡æ“¬

### 2. `screen_monitoring_demo.py`
**é«˜æ•ˆèƒ½è¢å¹•ç›£æ§å±•ç¤º**

- **åŠŸèƒ½**: å±•ç¤ºé«˜æ•ˆèƒ½è¢å¹•æˆªåœ–å’Œç›£æ§æŠ€è¡“
- **æŠ€è¡“é‡é»**:
  - mss é«˜é€Ÿæˆªåœ–
  - å¤šç·šç¨‹ç›£æ§æ¶æ§‹
  - è‡ªé©æ‡‰æ€§èƒ½å„ªåŒ–
- **å­¸ç¿’åƒ¹å€¼**: äº†è§£å¯¦æ™‚ç›£æ§ç³»çµ±çš„è¨­è¨ˆåŸç†

**ä½¿ç”¨æ–¹æ³•**:
```bash
python screen_monitoring_demo.py
```

**ä¸»è¦åŠŸèƒ½**:
- é«˜é »ç‡è¢å¹•å€åŸŸç›£æ§
- å³æ™‚ FPS æ€§èƒ½çµ±è¨ˆ
- è‡ªé©æ‡‰å»¶é²èª¿æ•´ç®—æ³•

## ğŸ› ï¸ ç’°å¢ƒéœ€æ±‚

### å¿…è¦ä¾è³´
```
opencv-python>=4.5.0
mss>=6.1.0
numpy>=1.21.0
Pillow>=8.0.0
```

### å®‰è£ä¾è³´
```bash
pip install opencv-python mss numpy Pillow
```

## ğŸ¯ æŠ€è¡“è¦é»

### HSV è‰²å½©æª¢æ¸¬
```python
# æ ¸å¿ƒæª¢æ¸¬é‚è¼¯
hsv_image = cv2.cvtColor(screenshot, cv2.COLOR_RGB2HSV)
mask = cv2.inRange(hsv_image, lower_bound, upper_bound)
percentage = cv2.countNonZero(mask) / total_pixels * 100
```

### é«˜æ•ˆèƒ½æˆªåœ–
```python
# ä½¿ç”¨ mss é€²è¡Œå¿«é€Ÿæˆªåœ–
with mss() as sct:
    screenshot = sct.grab(monitor_region)
    img_array = np.array(screenshot)
```

### è‡ªé©æ‡‰ç›£æ§
```python
# æ ¹æ“šæ€§èƒ½å‹•æ…‹èª¿æ•´ç›£æ§é »ç‡
processing_time = time.time() - start_time
adaptive_delay = calculate_optimal_delay(processing_time)
time.sleep(adaptive_delay)
```

## ğŸ“Š æ€§èƒ½æŒ‡æ¨™

### é æœŸæ€§èƒ½è¡¨ç¾
- **æˆªåœ–é€Ÿåº¦**: 1000+ FPS (å°å€åŸŸ)
- **è™•ç†å»¶é²**: < 5ms (å…¸å‹å·¥ä½œè² è¼‰)
- **CPU ä½¿ç”¨ç‡**: < 10% (å„ªåŒ–å¾Œ)
- **è¨˜æ†¶é«”ä½”ç”¨**: < 50MB (ç©©å®šç‹€æ…‹)

### å„ªåŒ–æŠ€å·§
1. **å€åŸŸé™åˆ¶**: åƒ…æˆªå–å¿…è¦çš„è¢å¹•å€åŸŸ
2. **å¤šç·šç¨‹**: åˆ†é›¢æˆªåœ–å’Œè™•ç†é‚è¼¯
3. **ç·©å­˜æ©Ÿåˆ¶**: é‡ç”¨è¨ˆç®—çµæœ
4. **è‡ªé©æ‡‰**: æ ¹æ“šç³»çµ±æ€§èƒ½å‹•æ…‹èª¿æ•´

## ğŸ”§ å®¢è£½åŒ–æŒ‡å—

### ä¿®æ”¹æª¢æ¸¬é¡è‰²
```python
# åœ¨ color_detection_demo.py ä¸­èª¿æ•´
test_colors = [
    ("è‡ªè¨‚é¡è‰²1", [H, S, V]),
    ("è‡ªè¨‚é¡è‰²2", [H, S, V]),
]
```

### èª¿æ•´ç›£æ§å€åŸŸ
```python
# åœ¨ screen_monitoring_demo.py ä¸­ä¿®æ”¹
monitor_regions = {
    'custom_region': {
        'left': X, 'top': Y, 
        'width': W, 'height': H
    }
}
```

### æ€§èƒ½èª¿å„ª
```python
# èª¿æ•´ç›£æ§é »ç‡
base_delay = 0.01  # 10ms = 100 FPS
max_delay = 0.1    # 100ms = 10 FPS
```

## ğŸš€ é€²éšæ‡‰ç”¨

### æ“´å±•æª¢æ¸¬ç®—æ³•
- é‚Šç·£æª¢æ¸¬çµåˆè‰²å½©æª¢æ¸¬
- æ©Ÿå™¨å­¸ç¿’æ¨¡å‹æ•´åˆ
- å¤šé‡æª¢æ¸¬ç­–ç•¥

### ç³»çµ±æ•´åˆ
- ç†±éµç³»çµ±é›†æˆ
- ç³»çµ±æ‰˜ç›¤åŠŸèƒ½
- é…ç½®æ–‡ä»¶ç®¡ç†

### è·¨éŠæˆ²é©é…
- é€šç”¨è‰²å½©æª¢æ¸¬æ¡†æ¶
- å¯é…ç½®çš„ç•Œé¢å…ƒç´ 
- è‡ªå‹•æ ¡æº–ç³»çµ±

## âš ï¸ æ³¨æ„äº‹é …

1. **ç³»çµ±æ¬Šé™**: æŸäº›åŠŸèƒ½å¯èƒ½éœ€è¦ç®¡ç†å“¡æ¬Šé™
2. **é˜²æ¯’è»Ÿé«”**: è¢å¹•æˆªåœ–åŠŸèƒ½å¯èƒ½è§¸ç™¼å®‰å…¨è­¦å‘Š
3. **æ€§èƒ½å½±éŸ¿**: é«˜é »ç›£æ§æœƒå¢åŠ  CPU è² è¼‰
4. **å…¼å®¹æ€§**: ä¸åŒç³»çµ±çš„é¡è‰²é¡¯ç¤ºå¯èƒ½æœ‰å·®ç•°

## ğŸ“ æŠ€è¡“æ”¯æ´

å¦‚æœæ‚¨åœ¨ä½¿ç”¨ç¤ºä¾‹ä»£ç¢¼æ™‚é‡åˆ°å•é¡Œï¼š

1. æª¢æŸ¥ Python ç‰ˆæœ¬æ˜¯å¦ç¬¦åˆè¦æ±‚ (3.10+)
2. ç¢ºèªæ‰€æœ‰ä¾è³´é …å·²æ­£ç¢ºå®‰è£
3. æŸ¥çœ‹éŒ¯èª¤æ—¥èªŒç²å–è©³ç´°ä¿¡æ¯
4. åƒè€ƒä¸»å°ˆæ¡ˆçš„èªªæ˜æ–‡æª”

---

**å…è²¬è²æ˜**: é€™äº›ç¤ºä¾‹ä»£ç¢¼åƒ…ä¾›å­¸ç¿’å’ŒæŠ€è¡“ç ”ç©¶ä½¿ç”¨ï¼Œå¯¦éš›æ‡‰ç”¨éœ€è¦æ ¹æ“šå…·é«”éœ€æ±‚é€²è¡Œèª¿æ•´å’Œå„ªåŒ–ã€‚